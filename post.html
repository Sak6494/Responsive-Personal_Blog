<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>View Post - My Blog</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <nav class="navbar navbar-dark bg-dark">
    <div class="container">
      <a href="index.html" class="navbar-brand">Back to Blog</a>
    </div>
  </nav>

  <div class="container my-5" id="post-container"></div>

  <script>
    const postContainer = document.getElementById("post-container");
    const post = JSON.parse(localStorage.getItem("viewPost"));

    function getCategoryClass(category) {
      switch(category) {
        case "Tech": return "bg-primary";
        case "Lifestyle": return "bg-warning";
        case "Travel": return "bg-success";
        case "Food": return "bg-danger";
        case "Education": return "bg-info";
        default: return "bg-secondary";
      }
    }

    if(post && postContainer) {
      postContainer.innerHTML = `
        <div class="card shadow p-4">
          ${post.media ? 
            (post.mediaType?.startsWith("video") 
              ? `<video src="${post.media}" controls width="100%"></video>` 
              : `<img src="${post.media}" style="width:100%; max-height:400px; object-fit:cover;">`) 
            : ''}
          <h2 class="mt-3">${post.title}</h2>
          <p>${post.content}</p>
          <span class="badge ${getCategoryClass(post.category)}">${post.category}</span>
          <p class="text-muted small mt-2">${post.author} | ${new Date(post.date).toLocaleDateString()}</p>
        </div>
      `;
    }
  </script>
</body>
</html>
